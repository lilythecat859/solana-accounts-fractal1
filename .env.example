## Distributed Mode (multiple Fractal instances)

Fractal can run **horizontally** by sharing a Redis cache.  
All Fractal containers read/write the same account data, so you can scale the
HTTP front‑end to any number of replicas behind a load‑balancer.

### How to enable

1. **Copy the example env file**  

   ```bash
   cp .env.example .env
   Uncomment the REDIS_URL line (or set a custom Redis endpoint)

REDIS_URL=redis://redis:6379/
Start the stack – Docker‑Compose will spin up a Redis container and as many Fractal replicas as you launch.

# Single instance (default)
make run

# Scale to 3 instances
docker compose up --scale rpc=3 -d
Copy
The rpc service automatically detects REDIS_URL and switches to the distributed cache (feature flag distributed is compiled in).

Optional: protect the API – set API_KEY in .env and all HTTP calls must include the header x-api-key: <your‑key>.

Optional: forward simulateTransaction – set DOWNSTREAM_RPC to the URL of the validator or Agave node you want to use for transaction simulation.
